let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=350",n=document.querySelector(".modal-header"),o=document.querySelector(".row");function i(t){"object"==typeof t?Object.keys("namedetailsUrl"in t)&&e.push(t):document.write('<p  class="error"> Check: not adding (wrong data type) </p>')}function r(e){(function(e){a();let t=e.detailsUrl;return fetch(t).then(function(e){return l(),e.json()}).then(function(t){e.imageUrl=t.sprites.other.dream_world.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types}).catch(function(e){console.error(e)})})(e).then(function(){c(e)})}function a(){n.innerHTML="",o.innerHTML="";let e=document.createElement("div");o.appendChild(e),e.classList.add("spinner-grow","mx-auto","visible")}function l(){document.querySelector(".spinner-grow").classList.add("invisible")}function c(e){n.innerHTML="",o.innerHTML="";let t=document.createElement("h1");t.innerText=e.name,n.appendChild(t);let i=document.createElement("div");i.classList.add("col"),i.innerHTML="<p>Height: <br>"+e.height+"</p>",o.appendChild(i);let r=document.createElement("div");r.classList.add("col"),r.innerHTML="<p>Weight: <br>"+e.weight+"</p>",o.appendChild(r);let a=document.createElement("div");a.classList.add("col"),a.innerHTML="<p>Types: </p>",o.appendChild(a);let l=new Array;e.types.forEach(e=>{let t=e.type.name;l.push(t)});let c=new Array;l.forEach(e=>{let t=document.createElement("p");t.innerText=e,c.push(t)}),c.forEach(e=>{a.appendChild(e)});let d=document.createElement("img");d.classList.add("col-12","modal-image"),d.src=e.imageUrl,o.appendChild(d)}let d=document.querySelector(".search");return d.addEventListener("input",function(){let e=document.querySelectorAll(".group-list-item"),t=d.value.toUpperCase();e.forEach(function(e){e.innerText.toUpperCase().indexOf(t)>-1?e.style.display="":e.style.display="none"})}),{add:i,getAll:function(){let t=e;return t.sort((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0),t},addListItem:function(e){let t=document.querySelector(".list-group"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,o.classList.add("btn","list__item"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemonModal"),n.appendChild(o),n.classList.add("group-list-item"),t.appendChild(n),o.addEventListener("click",function(){r(e)})},loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},showDetails:r,showModal:c,showLoadingSpinner:a,hideLoadingSpinner:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});